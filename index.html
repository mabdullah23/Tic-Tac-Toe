<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<style>
body {
  background-color: chartreuse;
  margin: 0;
  padding: 0;
  font-family: sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
}

header {
  background-color: aqua;
  color: brown;
  text-align: center;
  width: 100%;
  padding: 1rem;
}

.container {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  background-color: darkgoldenrod;
  padding: 1rem;
  width: 90vw;
  max-width: 400px;
  aspect-ratio: 1 / 1;
  margin-top: 1rem;
}

.container div {
  background-color: brown;
  color: white;
  font-size: 2rem;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  aspect-ratio: 1 / 1;
}

.player {
  margin-top: 1rem;
  padding: 0.5rem 1rem;
  background-color: white;
  color: black;
  font-weight: bold;
}

.reset {
  margin-top: 1rem;
  padding: 0.5rem 1rem;
  font-size: 1rem;
  cursor: pointer;
}

.scores {
  display: flex;
  justify-content: space-between;
  width: 90vw;
  max-width: 400px;
  margin-top: 1rem;
}

.p1, .p2 {
  background-color: black;
  color: white;
  padding: 0.5rem;
  text-align: center;
  width: 45%;
}


</style>
<body>
  <header>
    <h2>Tic Tac Toe</h2>
  </header>

  <div class="container">
    <div class="box1"></div>
    <div class="box2"></div>
    <div class="box3"></div>
    <div class="box4"></div>
    <div class="box5"></div>
    <div class="box6"></div>
    <div class="box7"></div>
    <div class="box8"></div>
    <div class="box9"></div>
  </div>

  <div class="player">player1 turn</div>
  <button class="reset">Restart</button>

  <div class="scores">
    <div class="p1">p1</div>
    <div class="p2">p2</div>
  </div>
</body>


<script>

let p1=0;
let p2=0;
let p=0;
let myplayer=document.querySelector(".player")
console.log(myplayer)
let mydiv =[[null,null,null],[null,null,null],[null,null,null]];
let win=false;
let k=1;
let pl1=document.querySelector(".p1");
let pl2=document.querySelector(".p2");

pl1.innerText="p1:"+p1
pl2.innerText="p2:"+p2



for(let i=0;i<3;i++){
    
for(let j=0;j<3;j++){
    let box="box"+k;
mydiv[i][j]= document.querySelector("."+box)

k++;
console.log(mydiv);

}
}

let turn="player1"

for(let i=0;i<3;i++){
    
for( let j=0;j<3;j++){
    
mydiv[i][j].addEventListener("click",()=>{

if(mydiv[i][j].innerText==="" ){
if(turn==="player1"){

    mydiv[i][j].innerText="X";
    turn="player2"
    myplayer.innerText="player2 turn"
    myplayer.style.backgroundColor = "orange";
    p++;
}

else if(turn==="player2"){

    mydiv[i][j].innerText="O";
    turn="player1"
    myplayer.innerText="player1 turn"
myplayer.style.backgroundColor = "white";
   p++;
}


}




if(mydiv[0][0].innerText==="X" &&
 mydiv[1][1].innerText==="X" && 
 mydiv[2][2].innerText==="X"){
    alert("player1 wins");
}

else if(mydiv[0][0].innerText==="X" && mydiv[0][1].innerText==="X"&&mydiv[0][2].innerText==="X"){
        p1++;
    win=true;
    pl1.innerText="p1:"+p1
    alert("player1 wins");

}


else if(mydiv[0][0].innerText==="X" && mydiv[1][0].innerText==="X"&&mydiv[2][0].innerText==="X"){
        p1++;
    win=true;
    pl1.innerText="p1:"+p1
    alert("player1 wins");
}


else if(mydiv[0][1].innerText==="X" && mydiv[1][1].innerText==="X"&&mydiv[2][1].innerText==="X"){
        p1++;
    alert("player1 wins");
    pl1.innerText="p1:"+p1
    win=true;
}


else if(mydiv[0][2].innerText==="X" && mydiv[1][1].innerText==="X"&&mydiv[2][0].innerText==="X"){
        p1++;
    alert("player1 wins");
    pl1.innerText="p1:"+p1
    win=true;
}


else if(mydiv[1][0].innerText==="X" && mydiv[1][1].innerText==="X"&&mydiv[1][2].innerText==="X"){
        p1++;
    alert("player1 wins");
    pl1.innerText="p1:"+p1
    win=true;
}


else if(mydiv[2][0].innerText==="X" && mydiv[2][1].innerText==="X"&&mydiv[2][2].innerText==="X"){
        p1++;
    alert("player1 wins");
    pl1.innerText="p1:"+p1
    win=true;
}


else if(mydiv[0][2].innerText==="X" && mydiv[1][2].innerText==="X"&&mydiv[2][2].innerText==="X"){
    p1++;
    alert("player1 wins");
    pl1.innerText="p1:"+p1
    win=true;
}



//--------------------//



else if(mydiv[0][0].innerText==="O" && mydiv[1][1].innerText==="O" && mydiv[2][2].innerText==="O" ){
    p2++;
    alert("player2 wins");
    pl2.innerText="p2:"+p2

    win=true;
}

else if(mydiv[0][0].innerText==="O"  && mydiv[0][1].innerText==="O" && mydiv[0][2].innerText==="O" ){
    p2++;
    alert("player2 wins");
    pl2.innerText="p2:"+p2

    win=true;
}


else if(mydiv[0][0].innerText==="O"  && mydiv[1][0].innerText==="O" &&mydiv[2][0].innerText==="O" ){
    p2++;
    alert("player2 wins");
    win=true;
    pl2.innerText="p2:"+p2

}


else if(mydiv[0][1].innerText==="O"  && mydiv[1][1].innerText==="O" &&mydiv[2][1].innerText==="O" ){
    p2++;
    alert("player2 wins");
    win=true;
    pl2.innerText="p2:"+p2

}


else if(mydiv[0][2].innerText==="O"  && mydiv[1][1].innerText==="O" &&mydiv[2][0].innerText==="O" ){
    p2++;
    alert("player2 wins");
    win=true;
    pl2.innerText="p2:"+p2

}


else if(mydiv[1][0].innerText==="O"  && mydiv[1][1].innerText==="O" &&mydiv[1][2].innerText==="O" ){
    p2++;
    alert("player2 wins");
    win=true;
    pl2.innerText="p2:"+p2

}


else if(mydiv[2][0].innerText==="O"  && mydiv[2][1].innerText==="O" &&mydiv[2][2].innerText==="O" ){
    p2++;
    alert("player2 wins");
    win=true;
    pl2.innerText="p2:"+p2

}


else if(mydiv[0][2].innerText==="O"  && mydiv[1][2].innerText==="O" &&mydiv[2][2].innerText==="O" ){
    p2++;
    alert("player2 wins");
    win=true; 
    pl2.innerText="p2:"+p2

}

if(win==true){
for(let l=0;l<3;l++){
    for(let z=0;z<3;z++){
        mydiv[l][z].innerText = "";
    }
}
win=false;
turn="player1"
p=0;
}

if(p==9 && win!=true){
    alert("Draw!");
for(let l=0;l<3;l++){
    for(let z=0;z<3;z++){
        mydiv[l][z].innerText = "";
    }
}
p=0;
turn="player1"
}



})


}
}



mybtn = document.querySelector(".reset");
console.log(mybtn)
mybtn.addEventListener("click",()=>{
if(turn==="player1"){
    alert("player2 wins")
    win=true;
    turn="player1"
}
else{
    turn="player1"
    alert("player1 wins")
    win=true;
}
for (let i = 0; i < 3; i++) {
  for (let j = 0; j < 3; j++) {
    mydiv[i][j].innerText = "";
  }
}


})



if(p==8 && win!=true){
    alert("Draw!");
    for (let i = 0; i < 3; i++) {
  for (let j = 0; j < 3; j++) {
    mydiv[i][j].innerText = "";
  }
}
p=0;
}


</script>

</body>
</html>
